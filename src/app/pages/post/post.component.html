<div class="container mt-5">
    <h1 class="mt-5 pt-5">¡Bienvenido a tu espacio personal!</h1>
    <h2 class="mt-3">Publica tu artículo</h2>
    <p class="mt-3">Sólo tienes que rellenar los siguentes campos y hacer click en publicar.</p>
    <p class="mt-3">¡Estamos deseando leerte!</p>

    <form [formGroup]="postForm" (ngSubmit)="savePostForm()" class="mt-5">

        <div class="container">
            <div class="form-group row">
                <label class="col-2 col-form-label">Nombre</label>
                <div class="col-8">
                    <input 
                        class="form-control" 
                        type="text" 
                        placeholder="Escribe tu nombre"
                        formControlName="name"
                        [class.is-invalid]="invalidName"
                    >
                    <small *ngIf="invalidName" 
                    class="form-text text-danger">
                        El nombre debe tener al menos 3 letras.
                    </small>
                </div>

            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Título</label>
                <div class="col-8">
                    <input 
                        class="form-control" 
                        type="text" 
                        placeholder="Escribe un título para tu artículo"
                        formControlName="title"
                        [class.is-invalid]="invalidTitle"
                    >
                    <small *ngIf="invalidTitle" 
                    class="form-text text-danger">
                        El título debe tener al menos 3 letras.
                    </small>
                </div>

            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Imagen</label>
                <div class="col-8">
                    <input 
                        class="form-control" 
                        type="text" 
                        placeholder="Escribe el URL de la imagen que quieras incluir"
                        formControlName="image"
                        [class.is-invalid]="invalidImage"
                    >
                    <small *ngIf="invalidImage" 
                    class="form-text text-danger">
                        Introduce un URL correcto.
                    </small>
                </div>

            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Texto</label>
                <div class="col-8">
                    <textarea 
                        class="form-control" 
                        type="textarea" 
                        rows="10" cols="30"
                        placeholder="Introduce el contenido del artículo que quieres publicar"
                        formControlName="text"
                        [class.is-invalid]="invalidText"
                    ></textarea>
                    <small *ngIf="invalidText" 
                    class="form-text text-danger">
                        Introduce un texto de entre 150 y 1000 caracteres.
                    </small>
                </div>

            </div>

            <div class="form-group row mt-5">
                <div class="col-7">
                    <table class="table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Etiqueta</th>
                            <th>¿Qué hacemos?</th>
                        </tr>
                    </thead>
                    <tbody formArrayName="tags">
                            <tr *ngFor="let tag of tags.controls; let i = index">
                                <td>{{ i + 1 }}</td>
                                <td>
                                    <input class="form-control" 
                                        type="text" 
                                        placeholder="Añade una etiqueta"
                                        [formControlName]="i"
                                    >
                                </td>
                                <td>
                                    <button 
                                        class="btn btn-danger" 
                                        (click)="deleteTag(i)"
                                    >
                                        Borrar
                                    </button>
                                </td>
                            </tr>
                    </tbody>
                    </table> 
                    
                    <button 
                        class="btn btn-primary mb-5 btn-block"
                        type="button"
                        (click)="addTag()"
                    >
                        Añadir
                    </button>
                </div>    
                
            
            </div>

            <div class="form-group row mb-5">
                <button type="submit" class="btn btn-block btn-primary">Publicar</button>
            </div>

        </div>

    </form>
    <hr/>
</div>